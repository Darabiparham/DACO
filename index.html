<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, maximum-scale=1.0">
    <meta name="theme-color" content="#5D5CDE">
    <meta name="background-color" content="#FFFFFF">
    <meta name="msapplication-TileColor" content="#5D5CDE">
    <meta name="msapplication-navbutton-color" content="#5D5CDE">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- SEO Meta Tags -->
    <title>DACO Storymaker Pro - Professional Instagram Story Creator | ุฏุงฺฉู ุงุณุชูุฑ ูฺฉุฑ ูพุฑู</title>
    <meta name="description" content="Create stunning Instagram stories with DACO Storymaker Pro. Add text overlays, customize fonts, colors, and effects for perfect 9:16 format stories. ุณุงุฎุช ุงุณุชูุฑ ูุง ุญุฑูู ุง ุงูุณุชุงฺฏุฑุงู ุจุง ุงูฺฉุงูุงุช ฺฉุงูู">
    <meta name="keywords" content="instagram stories, story maker, text overlay, social media, design tool, story creator, ุงุณุชูุฑ ุงูุณุชุงฺฏุฑุงู, ุณุงุฎุช ุงุณุชูุฑ, ุทุฑุงุญ ุงุณุชูุฑ, ุฏุงฺฉู ุงุณุชูุฑ ูฺฉุฑ">
    <meta name="author" content="DACO Storymaker Pro Team">
    <meta name="robots" content="index, follow, max-snippet:-1, max-image-preview:large, max-video-preview:-1">
    <meta name="googlebot" content="index, follow">
    <meta name="language" content="Persian">
    <meta name="geo.region" content="IR">
    <meta name="geo.country" content="Iran">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://dacostorymaker.app/">
    
    <!-- Open Graph Meta Tags -->
    <meta property="og:locale" content="fa_IR">
    <meta property="og:type" content="website">
    <meta property="og:title" content="DACO Storymaker Pro - Professional Story Creator">
    <meta property="og:description" content="Create stunning Instagram stories with professional text overlays and effects. ุณุงุฎุช ุงุณุชูุฑ ูุง ุญุฑูู ุง ุงูุณุชุงฺฏุฑุงู">
    <meta property="og:url" content="https://dacostorymaker.app/">
    <meta property="og:site_name" content="DACO Storymaker Pro">
    <meta property="og:image" content="https://dacostorymaker.app/images/og-image-1200x630.png">
    <meta property="og:image:secure_url" content="https://dacostorymaker.app/images/og-image-1200x630.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="DACO Storymaker Pro Interface">
    <meta property="og:updated_time" content="2024-01-15T10:00:00Z">
    
    <!-- Twitter Card Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@dacostorymaker">
    <meta name="twitter:creator" content="@dacostorymaker">
    <meta name="twitter:title" content="DACO Storymaker Pro - Professional Story Creator">
    <meta name="twitter:description" content="Create stunning Instagram stories with professional text overlays and effects">
    <meta name="twitter:image" content="https://dacostorymaker.app/images/twitter-card-1200x600.png">
    <meta name="twitter:image:alt" content="DACO Storymaker Pro Interface">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "DACO Storymaker Pro",
      "description": "Professional Instagram Story Creator with advanced text overlay features",
      "url": "https://dacostorymaker.app/",
      "applicationCategory": "DesignApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "creator": {
        "@type": "Organization",
        "@id": "https://dacostorymaker.app/#organization",
        "name": "DACO Storymaker Team"
      },
      "publisher": {
        "@type": "Organization",
        "@id": "https://dacostorymaker.app/#organization"
      }
    }
    </script>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Icons and Favicons -->
    <link rel="icon" type="image/x-icon" href="./favicon.ico">
    <link rel="shortcut icon" type="image/x-icon" href="./favicon.ico">
    <link rel="apple-touch-icon" sizes="57x57" href="./icons/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="./icons/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="./icons/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="./icons/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="./icons/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="./icons/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="./icons/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="./icons/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="./icons/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192" href="./icons/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./icons/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="./icons/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./icons/favicon-16x16.png">
    
    <!-- Microsoft specific -->
    <meta name="msapplication-TileImage" content="./icons/ms-icon-144x144.png">
    <meta name="msapplication-config" content="./browserconfig.xml">
    
    <!-- iOS specific meta tags -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="DACO Storymaker">
    <meta name="apple-touch-fullscreen" content="yes">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-2048-2732.jpg" media="(device-width: 1024px) and (device-height: 1366px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-1668-2224.jpg" media="(device-width: 834px) and (device-height: 1112px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-1536-2048.jpg" media="(device-width: 768px) and (device-height: 1024px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-1125-2436.jpg" media="(device-width: 375px) and (device-height: 812px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-1242-2208.jpg" media="(device-width: 414px) and (device-height: 736px) and (-webkit-device-pixel-ratio: 3) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-750-1334.jpg" media="(device-width: 375px) and (device-height: 667px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    <link rel="apple-touch-startup-image" href="./icons/apple-splash-640-1136.jpg" media="(device-width: 320px) and (device-height: 568px) and (-webkit-device-pixel-ratio: 2) and (orientation: portrait)">
    
    <!-- Security Headers -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self' 'unsafe-inline' 'unsafe-eval' data: blob: https://fonts.googleapis.com https://fonts.gstatic.com https://cdnjs.cloudflare.com https://unpkg.com https://cdn.jsdelivr.net; img-src 'self' data: blob: *; media-src 'self' data: blob: *; connect-src 'self' https: wss: data:; font-src 'self' data: https://fonts.gstatic.com https://fonts.googleapis.com; style-src 'self' 'unsafe-inline' https://fonts.googleapis.com; script-src 'self' 'unsafe-inline' 'unsafe-eval'; object-src 'none'; base-uri 'self'; frame-ancestors 'none';">
    <meta http-equiv="X-Content-Type-Options" content="nosniff">
    <meta http-equiv="X-Frame-Options" content="DENY">
    <meta http-equiv="X-XSS-Protection" content="1; mode=block">
    <meta http-equiv="Referrer-Policy" content="strict-origin-when-cross-origin">
    <meta http-equiv="Strict-Transport-Security" content="max-age=31536000; includeSubDomains; preload">
    <meta http-equiv="Feature-Policy" content="geolocation 'none'; microphone 'none'; camera 'none'">
    <meta http-equiv="Permissions-Policy" content="geolocation=(), microphone=(), camera=()">
    
    <!-- DNS Prefetch -->
    <link rel="dns-prefetch" href="//fonts.googleapis.com">
    <link rel="dns-prefetch" href="//fonts.gstatic.com">
    <link rel="dns-prefetch" href="//cdnjs.cloudflare.com">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin>
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@100;200;300;400;500;600;700;800;900&family=Lalezar:wght@400&family=Amiri:ital,wght@0,400;0,700;1,400;1,700&family=Markazi+Text:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&family=Inter:wght@100;200;300;400;500;600;700;800;900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">
    
    <!-- CSS Files -->
    <link rel="stylesheet" href="./css/styles.css">
    <link rel="stylesheet" href="./css/animations.css">
    <link rel="stylesheet" href="./css/responsive.css">
    <link rel="stylesheet" href="./css/dark-mode.css">
    
    <!-- Critical CSS -->
    <style>
        /* Critical above-the-fold styles */
        body { 
            margin: 0; 
            font-family: 'Vazirmatn', -apple-system, BlinkMacSystemFont, sans-serif; 
            background: #FFFFFF;
            overflow-x: hidden;
        }
        .loading-screen { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: #5D5CDE; 
            display: flex; 
            flex-direction: column; 
            justify-content: center; 
            align-items: center; 
            z-index: 10000; 
        }
        .loading-logo { 
            color: white; 
            font-size: 2rem; 
            font-weight: 700; 
            margin-bottom: 2rem; 
            animation: pulse 2s infinite; 
        }
        .loading-spinner { 
            width: 50px; 
            height: 50px; 
            border: 3px solid rgba(255, 255, 255, 0.3); 
            border-top: 3px solid white; 
            border-radius: 50%; 
            animation: spin 1s linear infinite; 
        }
        @keyframes spin { 
            0% { transform: rotate(0deg); } 
            100% { transform: rotate(360deg); } 
        }
        @keyframes pulse { 
            0%, 100% { opacity: 1; } 
            50% { opacity: 0.7; } 
        }
    </style>
</head>

<body>
    <!-- Loading Screen -->
    <div class="loading-screen" id="loadingScreen">
        <div class="loading-logo">DACO Storymaker Pro</div>
        <div class="loading-spinner"></div>
        <div class="loading-text">ุฏุฑุญุงู ุจุงุฑฺฏุฐุงุฑ ุฏุงฺฉู ุงุณุชูุฑ ูฺฉุฑ ูพุฑู...</div>
        <div class="loading-version">ูุณุฎู 3.0.0 โข ูุฑุงุด ุญุฑููโุง</div>
    </div>

    <!-- Offline Alert -->
    <div class="offline-alert" id="offlineAlert" style="display: none;">
        <div class="offline-content">
            <div class="offline-icon">๐ก</div>
            <h3>ุงุชุตุงู ุจู ุงูุชุฑูุช ูุทุน ุดุฏู</h3>
            <p>ุดูุง ุฏุฑ ุญุงูุช ุขููุงู ูุณุชุฏ. ุจุฑุฎ ูฺฺฏโูุง ููฺฉู ุงุณุช ูุญุฏูุฏ ุจุงุดูุฏ.</p>
        </div>
    </div>

    <!-- Portrait Mode Alert -->
    <div class="portrait-alert" id="portraitAlert" style="display: none;">
        <div class="portrait-content">
            <div class="rotate-icon">๐ฑ</div>
            <h2>ุญุงูุช ุนููุฏ ููุฑุฏ ูุงุฒ ุงุณุช</h2>
            <p>ูุทูุงู ุฏุณุชฺฏุงู ุฎูุฏ ุฑุง ุจุฑุง ุชุฌุฑุจู ุจูุชุฑ ุจู ุญุงูุช ุนููุฏ ุจฺุฑุฎุงูุฏ.</p>
        </div>
    </div>

    <!-- Update Available -->
    <div class="update-banner" id="updateBanner" style="display: none;">
        <div class="update-content">
            <span>ูุณุฎู ุฌุฏุฏ ููุฌูุฏ ุงุณุช!</span>
            <button onclick="updateApp()" class="update-btn">ุจูโุฑูุฒุฑุณุงู</button>
            <button onclick="dismissUpdate()" class="dismiss-btn">ร</button>
        </div>
    </div>

    <!-- Main App Container -->
    <div class="app-container" id="appContainer" style="display: none;">
        <!-- Header -->
        <header class="app-header" role="banner">
            <div class="header-content">
                <div class="header-left">
                    <button class="menu-btn" onclick="toggleSidebar()" aria-label="ููู ฺฉูุงุฑ">
                        <span class="hamburger"></span>
                    </button>
                    <div class="app-info">
                        <h1 class="app-title">DACO Storymaker Pro</h1>
                        <p class="app-subtitle">ูพูุดุด ููุฑ ุฏุฌุชุงู ุฎูุงูุงูู</p>
                    </div>
                </div>
                <div class="header-right">
                    <button class="theme-toggle" onclick="toggleTheme()" aria-label="ุชุบุฑ ุชู">
                        <span class="theme-icon">๐</span>
                    </button>
                    <button class="fullscreen-btn" onclick="toggleFullscreen()" aria-label="ุชูุงู ุตูุญู">
                        <span class="fullscreen-icon">โถ</span>
                    </button>
                </div>
            </div>
            <div class="progress-bar" id="progressBar">
                <div class="progress-fill"></div>
            </div>
        </header>

        <!-- Sidebar -->
        <aside class="sidebar" id="sidebar" role="complementary">
            <div class="sidebar-content">
                <div class="sidebar-header">
                    <h3>DACO Storymaker Pro</h3>
                    <button class="close-sidebar" onclick="closeSidebar()" aria-label="ุจุณุชู ููู">ร</button>
                </div>
                <nav class="sidebar-nav">
                    <ul>
                        <li><a href="#home" onclick="navigateTo('home')">๐ ุตูุญู ุงุตู</a></li>
                        <li><a href="#templates" onclick="navigateTo('templates')">๐จ ูุงูุจโูุง</a></li>
                        <li><a href="#gallery" onclick="navigateTo('gallery')">๐ผ๏ธ ฺฏุงูุฑ</a></li>
                        <li><a href="#help" onclick="navigateTo('help')">โ ุฑุงูููุง</a></li>
                        <li><a href="#settings" onclick="navigateTo('settings')">โ๏ธ ุชูุธูุงุช</a></li>
                        <li><a href="#about" onclick="navigateTo('about')">โน๏ธ ุฏุฑุจุงุฑู ูุง</a></li>
                    </ul>
                </nav>
                <div class="sidebar-footer">
                    <div class="social-links">
                        <a href="https://instagram.com/dacostorymaker" target="_blank" rel="noopener" aria-label="ุงูุณุชุงฺฏุฑุงู">๐ท</a>
                        <a href="mailto:info@dacostorymaker.app" aria-label="ุงูู">๐ง</a>
                        <a href="https://t.me/dacostorymaker" target="_blank" rel="noopener" aria-label="ุชูฺฏุฑุงู">๐ข</a>
                    </div>
                    <p class="version">ูุณุฎู 3.0.0</p>
                </div>
            </div>
        </aside>

        <!-- Sidebar Overlay -->
        <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

        <!-- Main Content Area -->
        <main class="main-content" role="main">
            <!-- Canvas Container -->
            <div class="canvas-container">
                <div class="canvas-header">
                    <div class="canvas-info">
                        <span class="canvas-title">ุจุฑุด ุชุตูุฑ - ูุฑูุช ฺฉุงูู 9:16</span>
                        <div class="canvas-tools">
                            <button class="tool-btn" onclick="resetCanvas()" title="ุจุงุฒูุดุงู ฺฉุงููุงุณ">๐</button>
                            <button class="tool-btn" onclick="undoAction()" title="ุจุงุฒฺฏุดุช" id="undoBtn" disabled>โถ</button>
                            <button class="tool-btn" onclick="redoAction()" title="ุชฺฉุฑุงุฑ" id="redoBtn" disabled>โท</button>
                            <button class="tool-btn" onclick="centerElements()" title="ูุณุท ฺู">โ</button>
                        </div>
                    </div>
                    <div class="zoom-controls">
                        <button class="zoom-btn" onclick="zoomOut()">โ</button>
                        <span class="zoom-level" id="zoomLevel">100%</span>
                        <button class="zoom-btn" onclick="zoomIn()">+</button>
                    </div>
                </div>

                <!-- Story Canvas -->
                <div class="story-canvas-wrapper">
                    <div class="story-canvas" id="storyCanvas" role="img" aria-label="ฺฉุงููุงุณ ุงุณุชูุฑ">
                        <div class="canvas-overlay" id="canvasOverlay">
                            <div class="drop-zone" id="dropZone">
                                <div class="drop-content">
                                    <div class="drop-icon">๐ท</div>
                                    <p>ุชุตูุฑ ุฎูุฏ ุฑุง ุงูุฌุง ุฑูุง ฺฉูุฏ</p>
                                    <p class="drop-hint">ุง ฺฉูฺฉ ฺฉูุฏ ุชุง ุงูุชุฎุงุจ ฺฉูุฏ</p>
                                </div>
                            </div>
                        </div>
                        
                        <img class="story-image" id="storyImage" alt="ุชุตูุฑ ูพุณโุฒููู ุงุณุชูุฑ" style="display: none;">
                        
                        <!-- Default Text Element -->
                        <div class="text-overlay selected" id="defaultText" 
                             style="top: 50%; left: 50%; transform: translate(-50%, -50%);"
                             tabindex="0" role="textbox" aria-label="ูุชู ูุงุจู ูุฑุงุด">
                            ุจุฑุง ูุฑุงุด ูุชู ฺฉูฺฉ ฺฉูุฏ
                        </div>

                        <!-- Grid Lines -->
                        <div class="grid-lines" id="gridLines" style="display: none;">
                            <div class="grid-line grid-vertical" style="left: 33.33%;"></div>
                            <div class="grid-line grid-vertical" style="left: 66.66%;"></div>
                            <div class="grid-line grid-horizontal" style="top: 33.33%;"></div>
                            <div class="grid-line grid-horizontal" style="top: 66.66%;"></div>
                        </div>

                        <!-- Guidelines -->
                        <div class="guidelines" id="guidelines"></div>
                    </div>

                    <!-- Canvas Instructions -->
                    <div class="canvas-instructions">
                        <p>๐ค ุจุฑุง ุฒูู ูุฑุต ฺฉูุฏ โข ๐ ุจุฑุง ุฌุงุจุฌุง ุจฺฉุดุฏ โข ๐ผ๏ธ ุชุตูุฑ ฺฉุงููุงู ุฏุฑ ูุงุจ ุจุงู ูโูุงูุฏ</p>
                    </div>
                </div>
            </div>

            <!-- Quick Actions Bar -->
            <div class="quick-actions">
                <button class="quick-action" onclick="addNewText()" title="ุงูุฒูุฏู ูุชู ุฌุฏุฏ">
                    <span class="action-icon">โ๏ธ</span>
                    <span class="action-label">ูุชู</span>
                </button>
                <button class="quick-action" onclick="openImagePicker()" title="ุงูุฒูุฏู ุชุตูุฑ">
                    <span class="action-icon">๐ผ๏ธ</span>
                    <span class="action-label">ุชุตูุฑ</span>
                </button>
                <button class="quick-action" onclick="toggleGrid()" title="ููุงุด ุฎุทูุท ุฑุงูููุง">
                    <span class="action-icon">โ</span>
                    <span class="action-label">ุดุจฺฉู</span>
                </button>
                <button class="quick-action" onclick="duplicateSelected()" title="ฺฉูพ ุนูุตุฑ ุงูุชุฎุงุจ ุดุฏู">
                    <span class="action-icon">๐</span>
                    <span class="action-label">ฺฉูพ</span>
                </button>
                <button class="quick-action" onclick="deleteSelected()" title="ุญุฐู ุนูุตุฑ ุงูุชุฎุงุจ ุดุฏู">
                    <span class="action-icon">๐๏ธ</span>
                    <span class="action-label">ุญุฐู</span>
                </button>
            </div>
        </main>

        <!-- Controls Panel -->
        <div class="controls-panel" id="controlsPanel" role="region" aria-label="ูพูู ฺฉูุชุฑูโูุง">
            <div class="controls-header">
                <h3 class="controls-title">ุชูุธูุงุช</h3>
                <button class="controls-toggle" onclick="toggleControls()" id="controlsToggle">โ</button>
            </div>

            <div class="controls-content" id="controlsContent">
                <!-- Text Controls -->
                <div class="control-section active" id="textSection">
                    <div class="section-header">
                        <span class="section-icon">โ๏ธ</span>
                        <span class="section-title">ูุชู</span>
                    </div>
                    
                    <div class="control-group">
                        <label for="textInput" class="control-label">ูุญุชูุง ูุชู:</label>
                        <div class="input-wrapper">
                            <textarea class="text-input" id="textInput" placeholder="ูุชู ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ..." 
                                      rows="2" maxlength="500">ุจุฑุง ูุฑุงุด ูุชู ฺฉูฺฉ ฺฉูุฏ</textarea>
                            <div class="input-actions">
                                <button onclick="addNewText()" class="input-action-btn" title="ุงูุฒูุฏู ูุชู ุฌุฏุฏ">+</button>
                                <button onclick="clearText()" class="input-action-btn" title="ูพุงฺฉ ฺฉุฑุฏู ูุชู">๐๏ธ</button>
                            </div>
                        </div>
                        <div class="character-count">
                            <span id="charCount">28</span>/500 ฺฉุงุฑุงฺฉุชุฑ
                        </div>
                    </div>

                    <!-- Font Selection -->
                    <div class="control-group">
                        <label class="control-label">ูููุช:</label>
                        <div class="font-grid">
                            <button class="font-btn active" data-font="Vazirmatn" onclick="changeFont(this, 'Vazirmatn')">
                                <span class="font-preview" style="font-family: 'Vazirmatn'">ูุงุถุญ</span>
                                <span class="font-name">ูุฒุฑูุชู</span>
                            </button>
                            <button class="font-btn" data-font="Lalezar" onclick="changeFont(this, 'Lalezar')">
                                <span class="font-preview" style="font-family: 'Lalezar'">ูุงููโุฒุงุฑ</span>
                                <span class="font-name">ูุงููโุฒุงุฑ</span>
                            </button>
                            <button class="font-btn" data-font="Amiri" onclick="changeFont(this, 'Amiri')">
                                <span class="font-preview" style="font-family: 'Amiri'">ุงูุฑ</span>
                                <span class="font-name">ุงูุฑ</span>
                            </button>
                            <button class="font-btn" data-font="Markazi Text" onclick="changeFont(this, 'Markazi Text')">
                                <span class="font-preview" style="font-family: 'Markazi Text'">ูุฑฺฉุฒ</span>
                                <span class="font-name">ูุฑฺฉุฒ</span>
                            </button>
                            <button class="font-btn" data-font="Noto Naskh Arabic" onclick="changeFont(this, 'Noto Naskh Arabic')">
                                <span class="font-preview" style="font-family: 'Noto Naskh Arabic'">ูุณุฎ</span>
                                <span class="font-name">ููุชู ูุณุฎ</span>
                            </button>
                            <button class="font-btn" data-font="Inter" onclick="changeFont(this, 'Inter')">
                                <span class="font-preview" style="font-family: 'Inter'">Inter</span>
                                <span class="font-name">ุงูุชุฑ</span>
                            </button>
                        </div>
                    </div>

                    <!-- Text Style Controls -->
                    <div class="control-group">
                        <label class="control-label">ุงุณุชุงู ูุชู:</label>
                        <div class="style-buttons">
                            <button class="style-btn" onclick="toggleBold()" id="boldBtn" title="ุถุฎู">
                                <strong>B</strong>
                            </button>
                            <button class="style-btn" onclick="toggleItalic()" id="italicBtn" title="ฺฉุฌ">
                                <em>I</em>
                            </button>
                            <button class="style-btn" onclick="toggleUnderline()" id="underlineBtn" title="ุฒุฑุฎุท">
                                <u>U</u>
                            </button>
                            <button class="style-btn" onclick="toggleStrikethrough()" id="strikeBtn" title="ุฎุท ุฑู ูุชู">
                                <s>S</s>
                            </button>
                        </div>
                    </div>

                    <!-- Text Alignment -->
                    <div class="control-group">
                        <label class="control-label">ุชุฑุงุฒ:</label>
                        <div class="align-buttons">
                            <button class="align-btn active" onclick="setTextAlign('right')" data-align="right" title="ุฑุงุณุชโฺู">
                                โฃ
                            </button>
                            <button class="align-btn" onclick="setTextAlign('center')" data-align="center" title="ูุณุทโฺู">
                                โจ
                            </button>
                            <button class="align-btn" onclick="setTextAlign('left')" data-align="left" title="ฺูพโฺู">
                                โข
                            </button>
                            <button class="align-btn" onclick="setTextAlign('justify')" data-align="justify" title="ุจููฺฉโฺู">
                                โ
                            </button>
                        </div>
                    </div>

                    <!-- Font Size -->
                    <div class="control-group">
                        <label for="sizeSlider" class="control-label">ุงูุฏุงุฒู ูููุช:</label>
                        <div class="slider-container">
                            <button class="slider-btn" onclick="decreaseSize()">A</button>
                            <input type="range" class="slider" id="sizeSlider" min="12" max="120" value="24" 
                                   oninput="changeSize(this.value)" aria-label="ุงูุฏุงุฒู ูููุช">
                            <button class="slider-btn large" onclick="increaseSize()">A</button>
                            <span class="slider-value" id="sizeValue">24px</span>
                        </div>
                    </div>

                    <!-- Line Height -->
                    <div class="control-group">
                        <label for="lineHeightSlider" class="control-label">ูุงุตูู ุฎุทูุท:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="lineHeightSlider" min="0.8" max="2.5" step="0.1" value="1.2" 
                                   oninput="changeLineHeight(this.value)" aria-label="ูุงุตูู ุฎุทูุท">
                            <span class="slider-value" id="lineHeightValue">1.2</span>
                        </div>
                    </div>

                    <!-- Letter Spacing -->
                    <div class="control-group">
                        <label for="letterSpacingSlider" class="control-label">ูุงุตูู ุญุฑูู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="letterSpacingSlider" min="-2" max="10" step="0.5" value="0" 
                                   oninput="changeLetterSpacing(this.value)" aria-label="ูุงุตูู ุญุฑูู">
                            <span class="slider-value" id="letterSpacingValue">0px</span>
                        </div>
                    </div>
                </div>

                <!-- Color Controls -->
                <div class="control-section" id="colorSection">
                    <div class="section-header">
                        <span class="section-icon">๐จ</span>
                        <span class="section-title">ุฑูฺฏ ูุชู</span>
                    </div>

                    <!-- Text Color -->
                    <div class="control-group">
                        <label for="textColorPicker" class="control-label">ุฑูฺฏ ูุชู:</label>
                        <div class="color-row">
                            <input type="color" class="color-picker" id="textColorPicker" value="#ffffff" 
                                   onchange="changeTextColor(this.value)" aria-label="ุงูุชุฎุงุจ ุฑูฺฏ ูุชู">
                            <div class="color-presets">
                                <button class="color-preset" data-color="#ffffff" style="background: #ffffff" onclick="setPresetColor('text', '#ffffff')" title="ุณูุฏ"></button>
                                <button class="color-preset" data-color="#000000" style="background: #000000" onclick="setPresetColor('text', '#000000')" title="ุณุงู"></button>
                                <button class="color-preset" data-color="#ff0000" style="background: #ff0000" onclick="setPresetColor('text', '#ff0000')" title="ูุฑูุฒ"></button>
                                <button class="color-preset" data-color="#00ff00" style="background: #00ff00" onclick="setPresetColor('text', '#00ff00')" title="ุณุจุฒ"></button>
                                <button class="color-preset" data-color="#0000ff" style="background: #0000ff" onclick="setPresetColor('text', '#0000ff')" title="ุขุจ"></button>
                                <button class="color-preset" data-color="#ffff00" style="background: #ffff00" onclick="setPresetColor('text', '#ffff00')" title="ุฒุฑุฏ"></button>
                                <button class="color-preset" data-color="#ff00ff" style="background: #ff00ff" onclick="setPresetColor('text', '#ff00ff')" title="ุจููุด"></button>
                                <button class="color-preset" data-color="#00ffff" style="background: #00ffff" onclick="setPresetColor('text', '#00ffff')" title="ูุฑูุฒูโุง"></button>
                            </div>
                        </div>
                    </div>

                    <!-- Text Opacity -->
                    <div class="control-group">
                        <label for="opacitySlider" class="control-label">ุดูุงูุช ูุชู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="opacitySlider" min="0" max="100" value="100" 
                                   oninput="changeOpacity(this.value)" aria-label="ุดูุงูุช ูุชู">
                            <span class="slider-value" id="opacityValue">100%</span>
                        </div>
                    </div>

                    <!-- Gradient Options -->
                    <div class="control-group">
                        <label class="control-label">ฺฏุฑุงุฏูุช:</label>
                        <div class="gradient-controls">
                            <button class="gradient-btn" onclick="toggleGradient()" id="gradientToggle">๐ ูุนุงูโุณุงุฒ ฺฏุฑุงุฏูุช</button>
                            <div class="gradient-options" id="gradientOptions" style="display: none;">
                                <div class="gradient-presets">
                                    <button class="gradient-preset" onclick="applyGradient('linear-gradient(45deg, #ff6b6b, #4ecdc4)')" 
                                            style="background: linear-gradient(45deg, #ff6b6b, #4ecdc4)"></button>
                                    <button class="gradient-preset" onclick="applyGradient('linear-gradient(45deg, #667eea, #764ba2)')" 
                                            style="background: linear-gradient(45deg, #667eea, #764ba2)"></button>
                                    <button class="gradient-preset" onclick="applyGradient('linear-gradient(45deg, #f093fb, #f5576c)')" 
                                            style="background: linear-gradient(45deg, #f093fb, #f5576c)"></button>
                                    <button class="gradient-preset" onclick="applyGradient('linear-gradient(45deg, #4facfe, #00f2fe)')" 
                                            style="background: linear-gradient(45deg, #4facfe, #00f2fe)"></button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Background Controls -->
                <div class="control-section" id="backgroundSection">
                    <div class="section-header">
                        <span class="section-icon">๐ญ</span>
                        <span class="section-title">ูพุณโุฒููู ูุชู</span>
                    </div>

                    <!-- Background Color -->
                    <div class="control-group">
                        <label for="bgColorPicker" class="control-label">ุฑูฺฏ ูพุณโุฒููู:</label>
                        <div class="color-row">
                            <input type="color" class="color-picker" id="bgColorPicker" value="#000000" 
                                   onchange="changeBgColor(this.value)" aria-label="ุงูุชุฎุงุจ ุฑูฺฏ ูพุณโุฒููู">
                            <div class="color-presets">
                                <button class="color-preset" data-color="#000000" style="background: #000000" onclick="setPresetColor('bg', '#000000')" title="ุณุงู"></button>
                                <button class="color-preset" data-color="#ffffff" style="background: #ffffff" onclick="setPresetColor('bg', '#ffffff')" title="ุณูุฏ"></button>
                                <button class="color-preset" data-color="#5D5CDE" style="background: #5D5CDE" onclick="setPresetColor('bg', '#5D5CDE')" title="ุจููุด"></button>
                                <button class="color-preset" data-color="#ff6b6b" style="background: #ff6b6b" onclick="setPresetColor('bg', '#ff6b6b')" title="ูุฑูุฒ ุฑูุดู"></button>
                                <button class="color-preset" data-color="#4ecdc4" style="background: #4ecdc4" onclick="setPresetColor('bg', '#4ecdc4')" title="ูุฑูุฒูโุง"></button>
                                <button class="color-preset" data-color="#45b7d1" style="background: #45b7d1" onclick="setPresetColor('bg', '#45b7d1')" title="ุขุจ"></button>
                                <button class="color-preset" data-color="#96ceb4" style="background: #96ceb4" onclick="setPresetColor('bg', '#96ceb4')" title="ุณุจุฒ"></button>
                                <button class="color-preset" data-color="#ffeaa7" style="background: #ffeaa7" onclick="setPresetColor('bg', '#ffeaa7')" title="ุฒุฑุฏ"></button>
                            </div>
                        </div>
                    </div>

                    <!-- Background Opacity -->
                    <div class="control-group">
                        <label for="bgOpacitySlider" class="control-label">ุดูุงูุช ูพุณโุฒููู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="bgOpacitySlider" min="0" max="100" value="0" 
                                   oninput="changeBgOpacity(this.value)" aria-label="ุดูุงูุช ูพุณโุฒููู">
                            <span class="slider-value" id="bgOpacityValue">0%</span>
                        </div>
                    </div>

                    <!-- Background Blur -->
                    <div class="control-group">
                        <label for="bgBlurSlider" class="control-label">ูุญู ฺฉุฑุฏู ูพุณโุฒููู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="bgBlurSlider" min="0" max="20" value="0" 
                                   oninput="changeBgBlur(this.value)" aria-label="ูุญู ฺฉุฑุฏู ูพุณโุฒููู">
                            <span class="slider-value" id="bgBlurValue">0px</span>
                        </div>
                    </div>

                    <!-- Border Radius -->
                    <div class="control-group">
                        <label for="borderRadiusSlider" class="control-label">ฺฏุฑุฏ ฺฏูุดูโูุง:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="borderRadiusSlider" min="0" max="50" value="0" 
                                   oninput="changeBorderRadius(this.value)" aria-label="ฺฏุฑุฏ ฺฏูุดูโูุง">
                            <span class="slider-value" id="borderRadiusValue">0px</span>
                        </div>
                    </div>

                    <!-- Padding -->
                    <div class="control-group">
                        <label for="paddingSlider" class="control-label">ูุงุตูู ุฏุงุฎู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="paddingSlider" min="0" max="50" value="8" 
                                   oninput="changePadding(this.value)" aria-label="ูุงุตูู ุฏุงุฎู">
                            <span class="slider-value" id="paddingValue">8px</span>
                        </div>
                    </div>
                </div>

                <!-- Effects Controls -->
                <div class="control-section" id="effectsSection">
                    <div class="section-header">
                        <span class="section-icon">โจ</span>
                        <span class="section-title">ุฌูููโูุง</span>
                    </div>

                    <!-- Shadow -->
                    <div class="control-group">
                        <label for="shadowSlider" class="control-label">ุณุงู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="shadowSlider" min="0" max="20" value="0" 
                                   oninput="changeShadow(this.value)" aria-label="ุณุงู ูุชู">
                            <span class="slider-value" id="shadowValue">0px</span>
                        </div>
                    </div>

                    <!-- Shadow Color -->
                    <div class="control-group">
                        <label for="shadowColorPicker" class="control-label">ุฑูฺฏ ุณุงู:</label>
                        <input type="color" class="color-picker" id="shadowColorPicker" value="#000000" 
                               onchange="changeShadowColor(this.value)" aria-label="ุฑูฺฏ ุณุงู">
                    </div>

                    <!-- Stroke -->
                    <div class="control-group">
                        <label for="strokeSlider" class="control-label">ุญุงุดู:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="strokeSlider" min="0" max="10" value="0" 
                                   oninput="changeStroke(this.value)" aria-label="ุถุฎุงูุช ุญุงุดู">
                            <span class="slider-value" id="strokeValue">0px</span>
                        </div>
                    </div>

                    <!-- Stroke Color -->
                    <div class="control-group">
                        <label for="strokeColorPicker" class="control-label">ุฑูฺฏ ุญุงุดู:</label>
                        <input type="color" class="color-picker" id="strokeColorPicker" value="#000000" 
                               onchange="changeStrokeColor(this.value)" aria-label="ุฑูฺฏ ุญุงุดู">
                    </div>

                    <!-- Glow Effect -->
                    <div class="control-group">
                        <label for="glowSlider" class="control-label">ุฏุฑุฎุดูุฏฺฏ:</label>
                        <div class="slider-container">
                            <input type="range" class="slider" id="glowSlider" min="0" max="20" value="0" 
                                   oninput="changeGlow(this.value)" aria-label="ุดุฏุช ุฏุฑุฎุดูุฏฺฏ">
                            <span class="slider-value" id="glowValue">0px</span>
                        </div>
                    </div>

                    <!-- Animation Effects -->
                    <div class="control-group">
                        <label class="control-label">ุงููุดู:</label>
                        <div class="animation-buttons">
                            <button class="animation-btn" onclick="applyAnimation('none')" data-animation="none">ุจุฏูู</button>
                            <button class="animation-btn" onclick="applyAnimation('pulse')" data-animation="pulse">ุถุฑุจุงู</button>
                            <button class="animation-btn" onclick="applyAnimation('bounce')" data-animation="bounce">ูพุฑุด</button>
                            <button class="animation-btn" onclick="applyAnimation('shake')" data-animation="shake">ูุฑุฒุด</button>
                            <button class="animation-btn" onclick="applyAnimation('glow')" data-animation="glow">ุฏุฑุฎุดุด</button>
                            <button class="animation-btn" onclick="applyAnimation('typewriter')" data-animation="typewriter">ุชุงูพโุฑุงุชุฑ</button>
                        </div>
                    </div>
                </div>

                <!-- Image Controls -->
                <div class="control-section" id="imageSection">
                    <div class="section-header">
                        <span class="section-icon">๐ผ๏ธ</span>
                        <span class="section-title">ุชุตูุฑ</span>
                    </div>

                    <!-- Image Upload -->
                    <div class="control-group">
                        <label class="control-label">ุขูพููุฏ ุชุตูุฑ:</label>
                        <div class="upload-area">
                            <button class="upload-btn" onclick="openImagePicker()">
                                <span class="upload-icon">๐</span>
                                <span>ุงูุชุฎุงุจ ุชุตูุฑ</span>
                            </button>
                            <p class="upload-hint">ูุฑูุชโูุง ูุฌุงุฒ: JPG, PNG, GIF, WebP</p>
                        </div>
                    </div>

                    <!-- Image Filters -->
                    <div class="control-group" id="imageFilters" style="display: none;">
                        <label class="control-label">ููุชุฑูุง:</label>
                        <div class="filter-buttons">
                            <button class="filter-btn active" onclick="applyFilter('none')" data-filter="none">ุนุงุฏ</button>
                            <button class="filter-btn" onclick="applyFilter('grayscale')" data-filter="grayscale">ุณุงู ู ุณูุฏ</button>
                            <button class="filter-btn" onclick="applyFilter('sepia')" data-filter="sepia">ุณูพุง</button>
                            <button class="filter-btn" onclick="applyFilter('blur')" data-filter="blur">ูุญู</button>
                            <button class="filter-btn" onclick="applyFilter('brightness')" data-filter="brightness">ุฑูุดู</button>
                            <button class="filter-btn" onclick="applyFilter('contrast')" data-filter="contrast">ฺฉูุชุฑุงุณุช</button>
                            <button class="filter-btn" onclick="applyFilter('vintage')" data-filter="vintage">ูุฏู</button>
                        </div>
                    </div>

                    <!-- Image Adjustments -->
                    <div class="image-adjustments" id="imageAdjustments" style="display: none;">
                        <div class="control-group">
                            <label for="brightnessSlider" class="control-label">ุฑูุดูุง:</label>
                            <div class="slider-container">
                                <input type="range" class="slider" id="brightnessSlider" min="0" max="200" value="100" 
                                       oninput="adjustBrightness(this.value)" aria-label="ุฑูุดูุง ุชุตูุฑ">
                                <span class="slider-value" id="brightnessValue">100%</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="contrastSlider" class="control-label">ฺฉูุชุฑุงุณุช:</label>
                            <div class="slider-container">
                                <input type="range" class="slider" id="contrastSlider" min="0" max="200" value="100" 
                                       oninput="adjustContrast(this.value)" aria-label="ฺฉูุชุฑุงุณุช ุชุตูุฑ">
                                <span class="slider-value" id="contrastValue">100%</span>
                            </div>
                        </div>

                        <div class="control-group">
                            <label for="saturationSlider" class="control-label">ุงุดุจุงุน ุฑูฺฏ:</label>
                            <div class="slider-container">
                                <input type="range" class="slider" id="saturationSlider" min="0" max="200" value="100" 
                                       oninput="adjustSaturation(this.value)" aria-label="ุงุดุจุงุน ุฑูฺฏ ุชุตูุฑ">
                                <span class="slider-value" id="saturationValue">100%</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav" role="navigation" aria-label="ูุงูุจุฑ ุงุตู">
            <button class="nav-item active" onclick="showSection('text')" data-section="text" aria-label="ฺฉูุชุฑูโูุง ูุชู">
                <span class="nav-icon">โ๏ธ</span>
                <span class="nav-label">ูุชู</span>
            </button>
            <button class="nav-item" onclick="showSection('color')" data-section="color" aria-label="ฺฉูุชุฑูโูุง ุฑูฺฏ">
                <span class="nav-icon">๐จ</span>
                <span class="nav-label">ุฑูฺฏ</span>
            </button>
            <button class="nav-item" onclick="showSection('background')" data-section="background" aria-label="ฺฉูุชุฑูโูุง ูพุณโุฒููู">
                <span class="nav-icon">๐ญ</span>
                <span class="nav-label">ูพุณโุฒููู</span>
            </button>
            <button class="nav-item" onclick="showSection('effects')" data-section="effects" aria-label="ุฌูููโูุง">
                <span class="nav-icon">โจ</span>
                <span class="nav-label">ุฌูููโูุง</span>
            </button>
            <button class="nav-item" onclick="showSection('image')" data-section="image" aria-label="ฺฉูุชุฑูโูุง ุชุตูุฑ">
                <span class="nav-icon">๐ผ๏ธ</span>
                <span class="nav-label">ุชุตูุฑ</span>
            </button>
            <button class="nav-item" onclick="showExportPanel()" aria-label="ฺฏุฒููโูุง ุฎุฑูุฌ">
                <span class="nav-icon">๐ฅ</span>
                <span class="nav-label">ุฎุฑูุฌ</span>
            </button>
        </nav>
    </div>

    <!-- Export Panel -->
    <div class="export-panel" id="exportPanel" role="dialog" aria-labelledby="exportTitle" aria-hidden="true">
        <div class="export-header">
            <h3 id="exportTitle" class="export-title">ุฏุงูููุฏ ู ุฎุฑูุฌ</h3>
            <p class="export-subtitle">ฺฏุฒูู ุฎุฑูุฌ ููุฑุฏ ูุธุฑ ุฎูุฏ ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ</p>
            <button class="export-close" onclick="hideExportPanel()" aria-label="ุจุณุชู ูพูู ุฎุฑูุฌ">ร</button>
        </div>

        <div class="export-options">
            <div class="export-option" onclick="exportImage('high-quality')" tabindex="0" role="button">
                <div class="export-option-icon">๐ฏ</div>
                <div class="export-option-content">
                    <div class="export-option-title">ุฐุฎุฑู ุจุง ฺฉูุช ุจุงูุง</div>
                    <div class="export-option-desc">ฺฉูุช ุนุงู ุจุฑุง ุงุณุชูุฑ ุงูุณุชุงฺฏุฑุงู ู ุดุจฺฉูโูุง ุงุฌุชูุงุน</div>
                    <div class="export-option-specs">1080ร1920 โข PNG</div>
                </div>
            </div>

            <div class="export-option" onclick="exportImage('text-only')" tabindex="0" role="button">
                <div class="export-option-icon">๐</div>
                <div class="export-option-content">
                    <div class="export-option-title">ููุท ูุชู PNG</div>
                    <div class="export-option-desc">ูุชู ุจุง ฺฉูุช ุจุงูุง ู ูพุณโุฒููู ุดูุงู</div>
                    <div class="export-option-specs">ุดูุงู โข PNG</div>
                </div>
            </div>

            <div class="export-option" onclick="exportImage('instagram-story')" tabindex="0" role="button">
                <div class="export-option-icon">๐ฑ</div>
                <div class="export-option-content">
                    <div class="export-option-title">ุงุณุชูุฑ ุงูุณุชุงฺฏุฑุงู</div>
                    <div class="export-option-desc">ุจูููโุณุงุฒ ุดุฏู ุจุฑุง ุงุณุชูุฑ ุงูุณุชุงฺฏุฑุงู</div>
                    <div class="export-option-specs">1080ร1920 โข JPG</div>
                </div>
            </div>

            <div class="export-option" onclick="exportImage('wallpaper')" tabindex="0" role="button">
                <div class="export-option-icon">๐ผ๏ธ</div>
                <div class="export-option-content">
                    <div class="export-option-title">ูุงููพูพุฑ ููุจุงู</div>
                    <div class="export-option-desc">ููุงุณุจ ุจุฑุง ุชุตูุฑ ุฒููู ฺฏูุด</div>
                    <div class="export-option-specs">1440ร2560 โข PNG</div>
                </div>
            </div>

            <div class="export-option" onclick="copyToClipboard()" tabindex="0" role="button">
                <div class="export-option-icon">๐</div>
                <div class="export-option-content">
                    <div class="export-option-title">ฺฉูพ ุฏุฑ ฺฉููพโุจูุฑุฏ</div>
                    <div class="export-option-desc">ฺฉูพ ูุณุชูู ุชุตูุฑ ุจุฑุง ุฌุงฺฏุฐุงุฑ ุณุฑุน</div>
                    <div class="export-option-specs">ฺฉูพ ูุณุชูู</div>
                </div>
            </div>
        </div>

        <div class="export-actions">
            <button class="export-action secondary" onclick="hideExportPanel()">ุงูุตุฑุงู</button>
            <button class="export-action primary" onclick="shareToSocial()">ุงุดุชุฑุงฺฉโฺฏุฐุงุฑ</button>
        </div>
    </div>

    <!-- Image Picker Modal -->
    <div class="modal" id="imagePickerModal" role="dialog" aria-labelledby="imagePickerTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="imagePickerTitle">ุงูุชุฎุงุจ ุชุตูุฑ</h3>
                <button class="modal-close" onclick="closeImagePicker()" aria-label="ุจุณุชู">ร</button>
            </div>
            <div class="modal-body">
                <div class="image-source-tabs">
                    <button class="tab-btn active" onclick="switchTab('upload')" data-tab="upload">ุขูพููุฏ</button>
                    <button class="tab-btn" onclick="switchTab('unsplash')" data-tab="unsplash">Unsplash</button>
                    <button class="tab-btn" onclick="switchTab('camera')" data-tab="camera">ุฏูุฑุจู</button>
                </div>

                <div class="tab-content active" id="uploadTab">
                    <div class="upload-dropzone" id="uploadDropzone">
                        <div class="dropzone-content">
                            <div class="dropzone-icon">๐</div>
                            <h4>ุชุตูุฑ ุฎูุฏ ุฑุง ุจฺฉุดุฏ ู ุฑูุง ฺฉูุฏ</h4>
                            <p>ุง ฺฉูฺฉ ฺฉูุฏ ุชุง ุงูุชุฎุงุจ ฺฉูุฏ</p>
                            <input type="file" id="imageInput" accept="image/*" multiple style="display: none;">
                            <button class="upload-btn" onclick="document.getElementById('imageInput').click()">
                                ุงูุชุฎุงุจ ูุงู
                            </button>
                        </div>
                    </div>
                </div>

                <div class="tab-content" id="unsplashTab">
                    <div class="search-container">
                        <input type="text" class="search-input" id="unsplashSearch" placeholder="ุฌุณุชุฌู ุฏุฑ Unsplash...">
                        <button class="search-btn" onclick="searchUnsplash()">๐</button>
                    </div>
                    <div class="unsplash-grid" id="unsplashGrid">
                        <!-- Unsplash images will be loaded here -->
                    </div>
                </div>

                <div class="tab-content" id="cameraTab">
                    <div class="camera-container">
                        <video id="cameraPreview" autoplay playsinline style="display: none;"></video>
                        <canvas id="cameraCanvas" style="display: none;"></canvas>
                        <div class="camera-placeholder">
                            <div class="camera-icon">๐ท</div>
                            <h4>ุฏูุฑุจู ุฏุฑ ุฏุณุชุฑุณ ูุณุช</h4>
                            <p>ูุชุฃุณูุงูู ุงูฺฉุงู ุฏุณุชุฑุณ ุจู ุฏูุฑุจู ูุฌูุฏ ูุฏุงุฑุฏ</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settingsModal" role="dialog" aria-labelledby="settingsTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="settingsTitle">ุชูุธูุงุช</h3>
                <button class="modal-close" onclick="closeSettings()" aria-label="ุจุณุชู">ร</button>
            </div>
            <div class="modal-body">
                <div class="settings-section">
                    <h4>ุธุงูุฑ</h4>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="darkModeToggle" onchange="toggleDarkMode()">
                            <span class="checkmark"></span>
                            ุญุงูุช ุชุงุฑฺฉ
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="animationsToggle" checked onchange="toggleAnimations()">
                            <span class="checkmark"></span>
                            ุงููุดูโูุง
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>ุนููฺฉุฑุฏ</h4>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="autoSaveToggle" checked onchange="toggleAutoSave()">
                            <span class="checkmark"></span>
                            ุฐุฎุฑู ุฎูุฏฺฉุงุฑ
                        </label>
                    </div>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="gridToggle" onchange="toggleGridSetting()">
                            <span class="checkmark"></span>
                            ููุงุด ุฎุทูุท ุฑุงูููุง
                        </label>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>ฺฉูุช ุฎุฑูุฌ</h4>
                    <div class="setting-item">
                        <label for="qualitySelect">ฺฉูุช ูพุดโูุฑุถ:</label>
                        <select id="qualitySelect" onchange="setDefaultQuality()">
                            <option value="high">ุจุงูุง (PNG)</option>
                            <option value="medium">ูุชูุณุท (JPG 90%)</option>
                            <option value="low">ูพุงู (JPG 70%)</option>
                        </select>
                    </div>
                </div>

                <div class="settings-section">
                    <h4>ุญุฑู ุฎุตูุต</h4>
                    <div class="setting-item">
                        <label class="setting-label">
                            <input type="checkbox" id="analyticsToggle" checked onchange="toggleAnalytics()">
                            <span class="checkmark"></span>
                            ุงุฑุณุงู ุขูุงุฑ ุงุณุชูุงุฏู
                        </label>
                    </div>
                </div>

                <div class="settings-actions">
                    <button class="settings-btn secondary" onclick="resetSettings()">ุจุงุฒูุดุงู</button>
                    <button class="settings-btn primary" onclick="closeSettings()">ุฐุฎุฑู</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div class="modal" id="helpModal" role="dialog" aria-labelledby="helpTitle" aria-hidden="true">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="helpTitle">ุฑุงูููุง</h3>
                <button class="modal-close" onclick="closeHelp()" aria-label="ุจุณุชู">ร</button>
            </div>
            <div class="modal-body">
                <div class="help-section">
                    <h4>๐ฏ ุดุฑูุน ุณุฑุน</h4>
                    <ol>
                        <li>ุฑู "ุชุตูุฑ" ฺฉูฺฉ ฺฉูุฏ ู ุนฺฉุณ ุฎูุฏ ุฑุง ุขูพููุฏ ฺฉูุฏ</li>
                        <li>ูุชู ุฑุง ุงูุชุฎุงุจ ฺฉูุฏ ู ูุชู ุฏูุฎูุงู ุฎูุฏ ุฑุง ุจููุณุฏ</li>
                        <li>ูููุชุ ุฑูฺฏ ู ุงูุฏุงุฒู ุฑุง ุชูุธู ฺฉูุฏ</li>
                        <li>ุงุฒ ูุณูุช "ุฎุฑูุฌ" ุชุตูุฑ ููุง ุฑุง ุฏุงูููุฏ ฺฉูุฏ</li>
                    </ol>
                </div>

                <div class="help-section">
                    <h4>โจ๏ธ ูุงูุจุฑูุง ฺฉุจูุฑุฏ</h4>
                    <div class="shortcuts">
                        <div class="shortcut">
                            <kbd>Ctrl</kbd> + <kbd>S</kbd>
                            <span>ุฐุฎุฑู</span>
                        </div>
                        <div class="shortcut">
                            <kbd>Ctrl</kbd> + <kbd>Z</kbd>
                            <span>ุจุงุฒฺฏุดุช</span>
                        </div>
                        <div class="shortcut">
                            <kbd>Ctrl</kbd> + <kbd>Y</kbd>
                            <span>ุชฺฉุฑุงุฑ</span>
                        </div>
                        <div class="shortcut">
                            <kbd>Del</kbd>
                            <span>ุญุฐู ุนูุตุฑ ุงูุชุฎุงุจ ุดุฏู</span>
                        </div>
                        <div class="shortcut">
                            <kbd>Ctrl</kbd> + <kbd>D</kbd>
                            <span>ฺฉูพ ุนูุตุฑ</span>
                        </div>
                    </div>
                </div>

                <div class="help-section">
                    <h4>๐ฑ ูฺฉุงุช ููุจุงู</h4>
                    <ul>
                        <li>๐ค ุจุฑุง ุฒูู ฺฉุฑุฏู ุชุตูุฑ ุฏู ุงูฺฏุดุช ุงุณุชูุงุฏู ฺฉูุฏ</li>
                        <li>๐ ุจุฑุง ุฌุงุจุฌุง ูุชู ุขู ุฑุง ููุณ ฺฉุฑุฏู ู ุจฺฉุดุฏ</li>
                        <li>๐ ุฎุทูุท ุฑุงูููุง ฺฉูฺฉ ูโฺฉูุฏ ูุชู ุฑุง ุฏูู ูุฑุงุฑ ุฏูุฏ</li>
                        <li>๐ ุฏุณุชฺฏุงู ุฑุง ุนููุฏ ูฺฏู ุฏุงุฑุฏ</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>๐ก ูฺฉุงุช ุญุฑููโุง</h4>
                    <ul>
                        <li>ุงุฒ ูููุชโูุง ูุงุฑุณ ุจุฑุง ูุชูโูุง ูุงุฑุณ ุงุณุชูุงุฏู ฺฉูุฏ</li>
                        <li>ฺฉูุชุฑุงุณุช ููุงุณุจ ุจู ูุชู ู ูพุณโุฒููู ุฏุฑ ูุธุฑ ุจฺฏุฑุฏ</li>
                        <li>ุงูุฏุงุฒู ูุชู ุฑุง ููุงุณุจ ุฏุณุชฺฏุงู ููุจุงู ุชูุธู ฺฉูุฏ</li>
                        <li>ุงุฒ ุฌูููโูุง ููุฑ ุจุฑุง ุฌุฐุงุจโุชุฑ ุดุฏู ุงุณุชูุงุฏู ฺฉูุฏ</li>
                    </ul>
                </div>

                <div class="help-section">
                    <h4>๐ ุฑูุน ูุดฺฉู</h4>
                    <p>ุงฺฏุฑ ุจุง ูุดฺฉู ููุงุฌู ุดุฏุฏ:</p>
                    <ul>
                        <li>ุตูุญู ุฑุง ุชุงุฒูโุณุงุฒ ฺฉูุฏ (F5)</li>
                        <li>ฺฉุด ูุฑูุฑฺฏุฑ ุฑุง ูพุงฺฉ ฺฉูุฏ</li>
                        <li>ุงุฒ ุขุฎุฑู ูุณุฎู ูุฑูุฑฺฏุฑ ุงุณุชูุงุฏู ฺฉูุฏ</li>
                        <li>ุจุง ูุง ุชูุงุณ ุจฺฏุฑุฏ: info@dacostorymaker.app</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Context Menu -->
    <div class="context-menu" id="contextMenu" style="display: none;">
        <div class="context-item" onclick="copyElement()">ฺฉูพ</div>
        <div class="context-item" onclick="duplicateElement()">ุชฺฉุซุฑ</div>
        <div class="context-item" onclick="deleteElement()">ุญุฐู</div>
        <div class="context-separator"></div>
        <div class="context-item" onclick="bringToFront()">ุขูุฑุฏู ุจู ุฌูู</div>
        <div class="context-item" onclick="sendToBack()">ูุฑุณุชุงุฏู ุจู ุนูุจ</div>
    </div>

    <!-- Notification Container -->
    <div class="notification-container" id="notificationContainer"></div>

    <!-- Hidden File Inputs -->
    <input type="file" id="hiddenImageInput" accept="image/*" style="display: none;" onchange="handleImageUpload(event)">

    <!-- PWA Install Prompt -->
    <div class="install-prompt" id="installPrompt" style="display: none;">
        <div class="install-content">
            <div class="install-icon">๐ฑ</div>
            <div class="install-text">
                <h4>ูุตุจ ุงูพูฺฉุดู</h4>
                <p>DACO Storymaker Pro ุฑุง ุฑู ุฏุณุชฺฏุงู ุฎูุฏ ูุตุจ ฺฉูุฏ</p>
            </div>
            <div class="install-actions">
                <button class="install-btn secondary" onclick="dismissInstall()">ุจุนุฏุงู</button>
                <button class="install-btn primary" onclick="installApp()">ูุตุจ</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="./js/app.js"></script>
    <script src="./js/canvas.js"></script>
    <script src="./js/controls.js"></script>
    <script src="./js/export.js"></script>
    <script src="./js/gestures.js"></script>
    <script src="./js/pwa.js"></script>
    <script src="./js/utils.js"></script>

    <!-- Service Worker Registration -->
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', async () => {
                try {
                    const registration = await navigator.serviceWorker.register('./sw.js');
                    console.log('SW registered:', registration);
                    
                    // Check for updates
                    registration.addEventListener('updatefound', () => {
                        const newWorker = registration.installing;
                        newWorker.addEventListener('statechange', () => {
                            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
                                showUpdateBanner();
                            }
                        });
                    });
                } catch (error) {
                    console.log('SW registration failed:', error);
                }
            });
        }
    </script>

    <!-- Analytics -->
    <script>
        // Simple analytics (privacy-friendly)
        function trackEvent(event, data = {}) {
            if (!localStorage.getItem('analytics-enabled')) return;
            
            const eventData = {
                event,
                timestamp: Date.now(),
                userAgent: navigator.userAgent,
                ...data
            };
            
            // Store locally instead of sending to external services
            const events = JSON.parse(localStorage.getItem('app-events') || '[]');
            events.push(eventData);
            
            // Keep only last 100 events
            if (events.length > 100) {
                events.splice(0, events.length - 100);
            }
            
            localStorage.setItem('app-events', JSON.stringify(events));
        }

        // Track app load
        trackEvent('app_loaded');
    </script>
</body>
</html>